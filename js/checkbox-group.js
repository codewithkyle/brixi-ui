import{html as r,render as o}from"./lit-html.js";import n from"./supercomponent.js";import s from"./env.js";import a from"./checkbox.js";import{parseDataset as l}from"./general.js";import{unsafeHTML as h}from"./unsafe-html.js";import c from"./soundscape.js";class i extends n{constructor(t){super(),t.options.map(e=>{e.name=t.name,e.disabled=t?.disabled??!1}),this.model={label:"",instructions:"",disabled:!1,name:"",options:[],css:"",class:"",attributes:{}},this.model=l(this.dataset,this.model),s.css("checkbox-group").then(()=>{this.set(t,!0),this.render()})}getName(){return this.model.name}getValue(){let t=[];for(let e=0;e<this.model.options.length;e++)this.model.options[e].checked&&t.push(this.model.options[e].value);return t}reset(){const t=this.get();for(let e=0;e<t.options.length;e++)t.options[e].checked=!1;this.set(t)}clearError(){this.state==="ERROR"&&this.trigger("RESET")}setError(t){t?.length&&(this.set({error:t}),this.trigger("ERROR"),c.play("error"))}render(){this.className=`${this.model.class} ${this.model.disabled?"is-disabled":""}`,this.style.cssText=this.model.css,Object.keys(this.model.attributes).map(e=>{this.setAttribute(e,`${this.model.attributes[e]}`)}),this.setAttribute("form-input","");const t=r`
            <p>
                <strong>${this.model.label}</strong>
                ${h(this.model.instructions)}
            </p>
            ${this.model.options.map(e=>new a(e))}
        `;o(t,this)}}s.bind("checkbox-group",i);export{i as default};
