var o=Object.defineProperty;var h=(d,t,e)=>t in d?o(d,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[t]=e;var s=(d,t,e)=>(h(d,typeof t!="symbol"?t+"":t,e),e);class c extends HTMLElement{constructor(){super();s(this,"model");s(this,"data");s(this,"state");s(this,"stateMachine");s(this,"debounce",(e,n)=>{let i=null;return(...a)=>{window.clearTimeout(i),i=window.setTimeout(()=>{e.apply(null,a)},n)}});s(this,"debounceRender",this.debounce(this.render.bind(this),80));s(this,"debounceUpdate",this.debounce(this.updated.bind(this),80));this.model={},this.data=this.model,this.state="INACTIVE",this.stateMachine={}}snapshot(){return{state:this.state,model:this.get()}}update(e,n=!1){this.set(e,n)}set(e,n=!1){this.model=Object.assign(this.model,e),this.data=this.model,n||this.debounceRender(),this.debounceUpdate()}get(){return{...this.model}}trigger(e){this.state=this.stateMachine?.[this.state]?.[e]??"ERROR",this.debounceRender(),this.debounceUpdate()}render(){}updated(){}connected(){}connectedCallback(){this.connected()}disconnected(){}disconnectedCallback(){this.disconnected()}}var u=c;export{u as default};
