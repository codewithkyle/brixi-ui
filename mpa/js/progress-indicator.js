class s extends HTMLElement{constructor(){super(),this.tick=0,this.total=0}connectedCallback(){this.circleEl=this.querySelector("circle.outter")}reset(){this.tick=0,this.render()}progress(t=1){this.tick<this.total&&(this.tick+=t,this.render(),this.tick>=this.total?this.dispatchEvent(new CustomEvent("finished",{bubbles:!0,cancelable:!0})):this.dispatchEvent(new CustomEvent("finished",{detail:{tick:this.tick},bubbles:!0,cancelable:!0})))}setTotal(t=0){this.total=t,this.tick=0}calcPercent(){const t=this.tick/this.total*100;return Math.round(t)}calcDashOffset(){const t=this.tick/this.total;let e=Math.round(70-70*t+2);return e>=70&&this.tick>0?e=69:e>70&&(e=70),e}render(){this.circleEl!=null&&(this.circleEl.style.strokeDashoffset=this.calcDashOffset(),this.setAttribute("tooltip",`${this.calcPercent()}%`))}}export{s as default};
