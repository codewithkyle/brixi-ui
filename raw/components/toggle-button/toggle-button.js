import{html as n,render as o}from"./lit-html.js";import a from"./supercomponent.js";import i from"./env.js";import l from"./button.js";import{parseDataset as u}from"./general.js";class r extends a{constructor(t){super();this.handleClick=t=>{for(let s=0;s<this.model.states.length;s++)if(this.model.state===this.model.states[s]){let e=s+1;e>=this.model.states.length&&(e=0),this.update({state:this.model.states[e]});break}};this.model={state:null,states:[],buttons:{},instructions:"",css:"",class:"",attributes:{}},this.model=u(this.dataset,this.model),i.css(["toggle-button","button"]).then(()=>{this.set(t,!0),this.render()})}connected(){this.addEventListener("click",this.handleClick)}renderButton(){return new l(this.model.buttons[this.model.state])}renderInstructions(){let t;return this.model.instructions.length?t=n` <p>${this.model.instructions}</p> `:t="",t}render(){this.style.cssText=this.model.css,this.className=this.model.class,Object.keys(this.model.attributes).map(s=>{this.setAttribute(s,`${this.model.attributes[s]}`)});const t=n` ${this.renderInstructions()} ${this.renderButton()} `;o(t,this)}}i.mount("toggle-button",r);export{r as default};
