var i=class{constructor(){this.toastQueue=[],this.time=performance.now(),this.loop()}loop(){let s=performance.now(),e=(s-this.time)/1e3;this.time=s;for(let t=this.toastQueue.length-1;t>=0;t--)this.toastQueue[t].duration-=e,this.toastQueue[t].duration<=0&&(this.toastQueue[t].el.isConnected&&this.toastQueue[t].el.remove(),this.toastQueue.splice(t,1));window.requestAnimationFrame(this.loop.bind(this))}push(s){let e=Object.assign({message:"Toast notificaitons require a message",el:null,duration:5,classes:[]},s);(e.duration===1/0||typeof e.duration!="number")&&(console.warn("Toast duration must be a number"),e.duration=5),Array.isArray(e.classes)||(e.classes=[e.classes]);let t=document.createElement("output");t.role="status",t.innerHTML=e.message,e.classes.length&&t.classList.add(...e.classes),e.el=t,e.el.addEventListener("click",()=>{e.el.remove(),this.toastQueue.splice(this.toastQueue.indexOf(e),1)}),this.toastQueue.push(e),this.flip(t)}flip(s){let e=this.getShell(),t=e.offsetHeight;e.appendChild(s);let o=e.offsetHeight-t,a=e.animate([{transform:`translateY(${o}px)`},{transform:"translateY(0)"}],{duration:150,easing:"ease-out"});a.startTime=document.timeline.currentTime}getShell(){let s=document.body.querySelector("toaster-component")||document.createElement("toaster-component");return s.isConnected||document.body.appendChild(s),s}},n=new i,u=n,r=u;export{r as default};
