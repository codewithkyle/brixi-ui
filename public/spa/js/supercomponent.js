var c=Object.defineProperty;var a=(s,t,e)=>t in s?c(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var n=(s,t,e)=>(a(s,typeof t!="symbol"?t+"":t,e),e);class r extends HTMLElement{constructor(){super();n(this,"model");n(this,"state");n(this,"stateMachine");n(this,"_scRenderTimeoutId");n(this,"debounce",(e,i)=>{let d=null;return(...o)=>{window.clearTimeout(d),d=window.setTimeout(()=>{e.apply(null,o)},i)}});this.model={},this.state="INACTIVE",this.stateMachine={},this._scRenderTimeoutId=null}snapshot(){return{state:this.state,model:this.get()}}debounceRender(){this._scRenderTimeoutId&&window.cancelAnimationFrame(this._scRenderTimeoutId),this._scRenderTimeoutId=window.requestAnimationFrame(this.render.bind(this))}set(e,i=!1){this.model=Object.assign(this.model,e),i||this.debounceRender()}get(){return{...this.model}}trigger(e){this.state=this.stateMachine?.[this.state]?.[e]??"ERROR",this.debounceRender()}render(){}connected(){}connectedCallback(){this.connected()}disconnected(){}disconnectedCallback(){this.disconnected()}}var l=r;export{l as default};
