var r=Object.defineProperty;var s=(e,i,t)=>i in e?r(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var n=(e,i,t)=>(s(e,typeof i!="symbol"?i+"":i,t),t);class h extends HTMLElement{constructor(){super();n(this,"onClick",()=>{this.bttnEL!=null&&window.navigator.clipboard.writeText(this.inputEl.value).then(()=>{alerts.toast("Copied to clipboard")})});n(this,"onBlur",()=>{if(this.inputEl!=null){if(this.inputEl.required&&this.inputEl.value.trim().length==0){this.renderError("This field is required.");return}else if(this.inputEl?.minLength!==-1&&this.inputEl.value.length<this.inputEl.minLength){this.renderError(`This field must be at least ${this.inputEl.minLength} characters.`);return}else if(this.inputEl.maxLength!==-1&&this.inputEl.value.length>this.inputEl.maxLength){this.renderError(`This field must be less than ${this.inputEl.maxLength} characters.`);return}this.clearError()}});n(this,"onInput",()=>{this.clearError()})}connectedCallback(){if(this.inputEl=this.querySelector("input"),this.descEl=this.querySelector("p"),this.descEl==null){this.descEl=document.createElement("p");const t=this.querySelector("input-container");this.insertBefore(this.descEl,t)}this.instructions=this.descEl?.innerHTML??"",this.bttnEL=this.querySelector("button"),this.inputEl?.addEventListener("blur",this.onBlur.bind(this)),this.inputEl?.addEventListener("input",this.onInput.bind(this)),this.bttnEL?.addEventListener("click",this.onClick.bind(this))}renderError(t){this.inputEl!=null&&(this.setAttribute("state","ERROR"),this.descEl.innerHTML=t)}clearError(){this.inputEl==null||this.inputEl.getAttribute("state")==="IDLING"||(this.setAttribute("state","IDLING"),this.descEl!=null&&(this.descEl.innerHTML=this.instructions))}}export{h as InputComponent};
